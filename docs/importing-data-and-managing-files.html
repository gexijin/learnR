<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Importing data and managing files | Learn R through examples</title>
  <meta name="description" content="This is a draft of a book for learning data analysis with the R language. This book emphasizes hands activities. Comments and suggestions welcome." />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Importing data and managing files | Learn R through examples" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a draft of a book for learning data analysis with the R language. This book emphasizes hands activities. Comments and suggestions welcome." />
  <meta name="github-repo" content="gexijin/learnR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Importing data and managing files | Learn R through examples" />
  
  <meta name="twitter:description" content="This is a draft of a book for learning data analysis with the R language. This book emphasizes hands activities. Comments and suggestions welcome." />
  

<meta name="author" content="Xijin Ge, Jianli Qi and Rong Fan" />


<meta name="date" content="2019-06-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-structures.html">
<link rel="next" href="the-heart-attack-data-set-i.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.46.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.46.1/plotly-latest.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="step-into-r-programmingthe-iris-flower-dataset.html"><a href="step-into-r-programmingthe-iris-flower-dataset.html"><i class="fa fa-check"></i><b>1</b> Step into R programming–the iris flower dataset</a><ul>
<li class="chapter" data-level="1.1" data-path="step-into-r-programmingthe-iris-flower-dataset.html"><a href="step-into-r-programmingthe-iris-flower-dataset.html#getting-started"><i class="fa fa-check"></i><b>1.1</b> Getting started</a></li>
<li class="chapter" data-level="1.2" data-path="step-into-r-programmingthe-iris-flower-dataset.html"><a href="step-into-r-programmingthe-iris-flower-dataset.html#data-frames-have-rows-and-columns-the-iris-flower-dataset"><i class="fa fa-check"></i><b>1.2</b> Data frames have rows and columns: the Iris flower dataset</a></li>
<li class="chapter" data-level="1.3" data-path="step-into-r-programmingthe-iris-flower-dataset.html"><a href="step-into-r-programmingthe-iris-flower-dataset.html#analyzing-one-set-of-numbers"><i class="fa fa-check"></i><b>1.3</b> Analyzing one set of numbers</a></li>
<li class="chapter" data-level="1.4" data-path="step-into-r-programmingthe-iris-flower-dataset.html"><a href="step-into-r-programmingthe-iris-flower-dataset.html#analyzing-a-column-of-categorical-values"><i class="fa fa-check"></i><b>1.4</b> Analyzing a column of categorical values</a></li>
<li class="chapter" data-level="1.5" data-path="step-into-r-programmingthe-iris-flower-dataset.html"><a href="step-into-r-programmingthe-iris-flower-dataset.html#analyzing-the-relationship-between-two-sets-of-numbers"><i class="fa fa-check"></i><b>1.5</b> Analyzing the relationship between two sets of numbers</a></li>
<li class="chapter" data-level="1.6" data-path="step-into-r-programmingthe-iris-flower-dataset.html"><a href="step-into-r-programmingthe-iris-flower-dataset.html#testing-the-differences-between-two-groups"><i class="fa fa-check"></i><b>1.6</b> Testing the differences between two groups</a></li>
<li class="chapter" data-level="1.7" data-path="step-into-r-programmingthe-iris-flower-dataset.html"><a href="step-into-r-programmingthe-iris-flower-dataset.html#testing-the-difference-among-multiple-groups-anova"><i class="fa fa-check"></i><b>1.7</b> Testing the difference among multiple groups (ANOVA)</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html"><i class="fa fa-check"></i><b>2</b> Visualizing the iris flower data set</a><ul>
<li class="chapter" data-level="2.1" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#basic-concepts-of-r-graphics"><i class="fa fa-check"></i><b>2.1</b> Basic concepts of R graphics</a></li>
<li class="chapter" data-level="2.2" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#the-ggplot2-package-makes-plotting-intuitive"><i class="fa fa-check"></i><b>2.2</b> The ggplot2 package makes plotting intuitive</a></li>
<li class="chapter" data-level="2.3" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#scatter-plots-matrix"><i class="fa fa-check"></i><b>2.3</b> Scatter plots matrix</a></li>
<li class="chapter" data-level="2.4" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#star-and-segment-diagrams"><i class="fa fa-check"></i><b>2.4</b> Star and segment diagrams</a></li>
<li class="chapter" data-level="2.5" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#parallel-coordinate-plot"><i class="fa fa-check"></i><b>2.5</b> Parallel coordinate plot</a></li>
<li class="chapter" data-level="2.6" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#bar-plot-with-error-bar"><i class="fa fa-check"></i><b>2.6</b> Bar plot with error bar</a></li>
<li class="chapter" data-level="2.7" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#box-plot-and-death-to-the-dynamite-plots"><i class="fa fa-check"></i><b>2.7</b> Box plot and death to the dynamite plots</a></li>
<li class="chapter" data-level="2.8" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#combining-plots"><i class="fa fa-check"></i><b>2.8</b> Combining plots</a></li>
<li class="chapter" data-level="2.9" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#hierarchical-clustering-and-heat-map"><i class="fa fa-check"></i><b>2.9</b> Hierarchical clustering and heat map</a></li>
<li class="chapter" data-level="2.10" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#projecting-high-dimensional-data-with-principal-component-analysis-pca"><i class="fa fa-check"></i><b>2.10</b> Projecting high-dimensional data with principal component analysis (PCA)</a></li>
<li class="chapter" data-level="2.11" data-path="visualizing-the-iris-flower-data-set.html"><a href="visualizing-the-iris-flower-data-set.html#classification-predicting-the-odds-of-binary-outcomes"><i class="fa fa-check"></i><b>2.11</b> Classification: Predicting the odds of binary outcomes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>3</b> Data structures</a><ul>
<li class="chapter" data-level="3.1" data-path="data-structures.html"><a href="data-structures.html#basic-concepts"><i class="fa fa-check"></i><b>3.1</b> Basic concepts</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-structures.html"><a href="data-structures.html#expressions"><i class="fa fa-check"></i><b>3.1.1</b> Expressions</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-structures.html"><a href="data-structures.html#logical-values"><i class="fa fa-check"></i><b>3.1.2</b> Logical Values</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-structures.html"><a href="data-structures.html#variables"><i class="fa fa-check"></i><b>3.1.3</b> Variables</a></li>
<li class="chapter" data-level="3.1.4" data-path="data-structures.html"><a href="data-structures.html#functions"><i class="fa fa-check"></i><b>3.1.4</b> Functions</a></li>
<li class="chapter" data-level="3.1.5" data-path="data-structures.html"><a href="data-structures.html#looking-for-help-and-example-code"><i class="fa fa-check"></i><b>3.1.5</b> Looking for help and example Code</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-structures.html"><a href="data-structures.html#data-structures-1"><i class="fa fa-check"></i><b>3.2</b> Data structures</a><ul>
<li class="chapter" data-level="3.2.1" data-path="data-structures.html"><a href="data-structures.html#vectors"><i class="fa fa-check"></i><b>3.2.1</b> Vectors</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-structures.html"><a href="data-structures.html#matrices"><i class="fa fa-check"></i><b>3.2.2</b> Matrices</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-structures.html"><a href="data-structures.html#data-frames"><i class="fa fa-check"></i><b>3.2.3</b> Data Frames</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-structures.html"><a href="data-structures.html#strings-and-string-vectors"><i class="fa fa-check"></i><b>3.2.4</b> Strings and string vectors</a></li>
<li class="chapter" data-level="3.2.5" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>3.2.5</b> Lists</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html"><i class="fa fa-check"></i><b>4</b> Importing data and managing files</a><ul>
<li class="chapter" data-level="4.1" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#project-oriented-workflow"><i class="fa fa-check"></i><b>4.1</b> Project-oriented workflow</a><ul>
<li class="chapter" data-level="4.1.1" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#create-a-project-in-a-new-folder"><i class="fa fa-check"></i><b>4.1.1</b> Create a project in a new folder</a></li>
<li class="chapter" data-level="4.1.2" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#create-a-script-file-and-comment"><i class="fa fa-check"></i><b>4.1.2</b> Create a script file and comment (!)</a></li>
<li class="chapter" data-level="4.1.3" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#copy-data-files-to-the-new-directory"><i class="fa fa-check"></i><b>4.1.3</b> Copy data files to the new directory</a></li>
<li class="chapter" data-level="4.1.4" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#import-data-files"><i class="fa fa-check"></i><b>4.1.4</b> Import data files</a></li>
<li class="chapter" data-level="4.1.5" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#check-and-convert-data-types"><i class="fa fa-check"></i><b>4.1.5</b> Check and convert data types</a></li>
<li class="chapter" data-level="4.1.6" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#close-a-project-when-you-are-done"><i class="fa fa-check"></i><b>4.1.6</b> Close a project when you are done</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#data-manipulation-in-a-data-frame"><i class="fa fa-check"></i><b>4.2</b> Data manipulation in a data frame</a></li>
<li class="chapter" data-level="4.3" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#data-transformation-using-the-dplyr"><i class="fa fa-check"></i><b>4.3</b> Data transformation using the dplyr</a></li>
<li class="chapter" data-level="4.4" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#reading-files-directly-using-read.table"><i class="fa fa-check"></i><b>4.4</b> Reading files directly using read.table</a></li>
<li class="chapter" data-level="4.5" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#general-procedure-to-read-data-into-r"><i class="fa fa-check"></i><b>4.5</b> General procedure to read data into R:</a></li>
<li class="chapter" data-level="4.6" data-path="importing-data-and-managing-files.html"><a href="importing-data-and-managing-files.html#enter-data-manually"><i class="fa fa-check"></i><b>4.6</b> Enter data manually</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="the-heart-attack-data-set-i.html"><a href="the-heart-attack-data-set-i.html"><i class="fa fa-check"></i><b>5</b> The heart attack data set (I)</a><ul>
<li class="chapter" data-level="5.1" data-path="the-heart-attack-data-set-i.html"><a href="the-heart-attack-data-set-i.html#begin-your-analysis-by-examining-each-column-separately"><i class="fa fa-check"></i><b>5.1</b> Begin your analysis by examining each column separately</a></li>
<li class="chapter" data-level="5.2" data-path="the-heart-attack-data-set-i.html"><a href="the-heart-attack-data-set-i.html#possible-correlation-between-two-numeric-columns"><i class="fa fa-check"></i><b>5.2</b> Possible correlation between two numeric columns?</a></li>
<li class="chapter" data-level="5.3" data-path="the-heart-attack-data-set-i.html"><a href="the-heart-attack-data-set-i.html#associations-between-categorical-variables"><i class="fa fa-check"></i><b>5.3</b> Associations between categorical variables?</a></li>
<li class="chapter" data-level="5.4" data-path="the-heart-attack-data-set-i.html"><a href="the-heart-attack-data-set-i.html#associations-between-a-categorical-and-a-numeric-variables"><i class="fa fa-check"></i><b>5.4</b> Associations between a categorical and a numeric variables?</a></li>
<li class="chapter" data-level="5.5" data-path="the-heart-attack-data-set-i.html"><a href="the-heart-attack-data-set-i.html#associations-between-multiple-columns"><i class="fa fa-check"></i><b>5.5</b> Associations between multiple columns?</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="the-heart-attack-dataset-ii.html"><a href="the-heart-attack-dataset-ii.html"><i class="fa fa-check"></i><b>6</b> The heart attack dataset (II)</a><ul>
<li class="chapter" data-level="6.1" data-path="the-heart-attack-dataset-ii.html"><a href="the-heart-attack-dataset-ii.html#scatter-plot-in-ggplot2"><i class="fa fa-check"></i><b>6.1</b> Scatter plot in ggplot2</a></li>
<li class="chapter" data-level="6.2" data-path="the-heart-attack-dataset-ii.html"><a href="the-heart-attack-dataset-ii.html#histograms-and-density-plots"><i class="fa fa-check"></i><b>6.2</b> Histograms and density plots</a></li>
<li class="chapter" data-level="6.3" data-path="the-heart-attack-dataset-ii.html"><a href="the-heart-attack-dataset-ii.html#box-plots-and-violin-plots"><i class="fa fa-check"></i><b>6.3</b> Box plots and Violin plots</a></li>
<li class="chapter" data-level="6.4" data-path="the-heart-attack-dataset-ii.html"><a href="the-heart-attack-dataset-ii.html#bar-plot-with-error-bars"><i class="fa fa-check"></i><b>6.4</b> Bar plot with error bars</a></li>
<li class="chapter" data-level="6.5" data-path="the-heart-attack-dataset-ii.html"><a href="the-heart-attack-dataset-ii.html#statistical-models-are-easy-interpretations-and-verifications-are-not"><i class="fa fa-check"></i><b>6.5</b> Statistical models are easy; interpretations and verifications are not!</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="advanced-topics.html"><a href="advanced-topics.html"><i class="fa fa-check"></i><b>7</b> Advanced topics</a><ul>
<li class="chapter" data-level="7.1" data-path="advanced-topics.html"><a href="advanced-topics.html#introduction-to-r-markdown"><i class="fa fa-check"></i><b>7.1</b> Introduction to R Markdown</a></li>
<li class="chapter" data-level="7.2" data-path="advanced-topics.html"><a href="advanced-topics.html#tidyverse"><i class="fa fa-check"></i><b>7.2</b> Tidyverse</a></li>
<li class="chapter" data-level="7.3" data-path="advanced-topics.html"><a href="advanced-topics.html#interactive-plots-made-easy-with-plotly"><i class="fa fa-check"></i><b>7.3</b> Interactive plots made easy with Plotly</a></li>
<li class="chapter" data-level="7.4" data-path="advanced-topics.html"><a href="advanced-topics.html#shiny-apps"><i class="fa fa-check"></i><b>7.4</b> Shiny Apps</a><ul>
<li class="chapter" data-level="7.4.1" data-path="advanced-topics.html"><a href="advanced-topics.html#install-the-shiny-package-by-typing-this-in-the-console."><i class="fa fa-check"></i><b>7.4.1</b> Install the Shiny package by typing this in the console.</a></li>
<li class="chapter" data-level="7.4.2" data-path="advanced-topics.html"><a href="advanced-topics.html#create-a-shiny-web-app-is-a-piece-of-cake"><i class="fa fa-check"></i><b>7.4.2</b> Create a Shiny web app is a piece of cake</a></li>
<li class="chapter" data-level="7.4.3" data-path="advanced-topics.html"><a href="advanced-topics.html#lets-play"><i class="fa fa-check"></i><b>7.4.3</b> Let’s play!</a></li>
<li class="chapter" data-level="7.4.4" data-path="advanced-topics.html"><a href="advanced-topics.html#pubish-your-app"><i class="fa fa-check"></i><b>7.4.4</b> Pubish your app</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="advanced-topics.html"><a href="advanced-topics.html#define-your-own-function"><i class="fa fa-check"></i><b>7.5</b> Define your own function</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="the-state-dataset.html"><a href="the-state-dataset.html"><i class="fa fa-check"></i><b>8</b> The state dataset</a><ul>
<li class="chapter" data-level="8.1" data-path="the-state-dataset.html"><a href="the-state-dataset.html#reading-in-and-manipulating-data"><i class="fa fa-check"></i><b>8.1</b> Reading in and manipulating data</a></li>
<li class="chapter" data-level="8.2" data-path="the-state-dataset.html"><a href="the-state-dataset.html#visualizing-data"><i class="fa fa-check"></i><b>8.2</b> Visualizing data</a></li>
<li class="chapter" data-level="8.3" data-path="the-state-dataset.html"><a href="the-state-dataset.html#analyzing-the-relationship-among-variables"><i class="fa fa-check"></i><b>8.3</b> Analyzing the relationship among variables</a></li>
<li class="chapter" data-level="8.4" data-path="the-state-dataset.html"><a href="the-state-dataset.html#the-whole-picture-of-the-data-set"><i class="fa fa-check"></i><b>8.4</b> The whole picture of the data set</a></li>
<li class="chapter" data-level="8.5" data-path="the-state-dataset.html"><a href="the-state-dataset.html#linear-model-analysis"><i class="fa fa-check"></i><b>8.5</b> Linear model analysis</a></li>
<li class="chapter" data-level="8.6" data-path="the-state-dataset.html"><a href="the-state-dataset.html#conclusion"><i class="fa fa-check"></i><b>8.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html"><i class="fa fa-check"></i><b>9</b> The game sales dataset</a><ul>
<li class="chapter" data-level="9.1" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#visualization-of-categorical-variables"><i class="fa fa-check"></i><b>9.1</b> Visualization of categorical variables</a></li>
<li class="chapter" data-level="9.2" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#correlation-among-numeric-variables"><i class="fa fa-check"></i><b>9.2</b> Correlation among numeric variables</a></li>
<li class="chapter" data-level="9.3" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#analysis-of-score-and-count"><i class="fa fa-check"></i><b>9.3</b> Analysis of score and count</a></li>
<li class="chapter" data-level="9.4" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#analysis-of-sales"><i class="fa fa-check"></i><b>9.4</b> Analysis of sales</a><ul>
<li class="chapter" data-level="9.4.1" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#by-year.release"><i class="fa fa-check"></i><b>9.4.1</b> By Year.Release</a></li>
<li class="chapter" data-level="9.4.2" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#by-region"><i class="fa fa-check"></i><b>9.4.2</b> By Region</a></li>
<li class="chapter" data-level="9.4.3" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#by-rating"><i class="fa fa-check"></i><b>9.4.3</b> By Rating</a></li>
<li class="chapter" data-level="9.4.4" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#by-genre"><i class="fa fa-check"></i><b>9.4.4</b> By Genre</a></li>
<li class="chapter" data-level="9.4.5" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#by-score"><i class="fa fa-check"></i><b>9.4.5</b> by Score</a></li>
<li class="chapter" data-level="9.4.6" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#by-rating-genre-critic-score"><i class="fa fa-check"></i><b>9.4.6</b> By Rating &amp; Genre &amp; Critic score</a></li>
<li class="chapter" data-level="9.4.7" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#by-platform"><i class="fa fa-check"></i><b>9.4.7</b> By Platform</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#effect-of-platform-type-to-priciple-components"><i class="fa fa-check"></i><b>9.5</b> Effect of platform type to priciple components</a></li>
<li class="chapter" data-level="9.6" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#models-for-global-sales"><i class="fa fa-check"></i><b>9.6</b> Models for global sales</a></li>
<li class="chapter" data-level="9.7" data-path="the-game-sales-dataset.html"><a href="the-game-sales-dataset.html#conclusion-1"><i class="fa fa-check"></i><b>9.7</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html"><i class="fa fa-check"></i><b>10</b> The big and messy employee salary data</a><ul>
<li class="chapter" data-level="10.1" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#read-in-and-clean-data"><i class="fa fa-check"></i><b>10.1</b> Read in and clean data</a></li>
<li class="chapter" data-level="10.2" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#information-about-the-variables"><i class="fa fa-check"></i><b>10.2</b> Information about the variables</a><ul>
<li class="chapter" data-level="10.2.1" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#income-and-age"><i class="fa fa-check"></i><b>10.2.1</b> Income and age</a></li>
<li class="chapter" data-level="10.2.2" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#ethnic-group"><i class="fa fa-check"></i><b>10.2.2</b> Ethnic group</a></li>
<li class="chapter" data-level="10.2.3" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#sex"><i class="fa fa-check"></i><b>10.2.3</b> Sex</a></li>
<li class="chapter" data-level="10.2.4" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#union-descreption"><i class="fa fa-check"></i><b>10.2.4</b> Union descreption</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#analysis-of-gross-income"><i class="fa fa-check"></i><b>10.3</b> Analysis of gross income</a><ul>
<li class="chapter" data-level="10.3.1" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#age"><i class="fa fa-check"></i><b>10.3.1</b> Age</a></li>
<li class="chapter" data-level="10.3.2" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#sex-1"><i class="fa fa-check"></i><b>10.3.2</b> Sex</a></li>
<li class="chapter" data-level="10.3.3" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#ethnic-group-1"><i class="fa fa-check"></i><b>10.3.3</b> Ethnic Group</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#analysis-of-gross-income-type"><i class="fa fa-check"></i><b>10.4</b> Analysis of gross income type</a><ul>
<li class="chapter" data-level="10.4.1" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#gross-type"><i class="fa fa-check"></i><b>10.4.1</b> Gross Type</a></li>
<li class="chapter" data-level="10.4.2" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#ethnic-and-sex-and-age"><i class="fa fa-check"></i><b>10.4.2</b> Ethnic and Sex and age</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#lm-and-anova-analysis"><i class="fa fa-check"></i><b>10.5</b> LM and ANOVA analysis</a></li>
<li class="chapter" data-level="10.6" data-path="the-big-and-messy-employee-salary-data.html"><a href="the-big-and-messy-employee-salary-data.html#conclusion-2"><i class="fa fa-check"></i><b>10.6</b> Conclusion</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Learn R through examples</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importing-data-and-managing-files" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Importing data and managing files</h1>
<p>Learning objectives:</p>
<ul>
<li>Create projects in Rstudio</li>
<li>Proper steps to import data</li>
<li>Intro to data transformation using dplyr</li>
</ul>
<div id="project-oriented-workflow" class="section level2">
<h2><span class="header-section-number">4.1</span> Project-oriented workflow</h2>
<p>It is best to create a separate folder that contains all related files. You can do the same for research projects. In Rstudio, this is called a <strong>Project</strong>. For example you can create a project for each of the chapters in this book. Projects are self-contained and can be moved to another computer or folder and the code will run.</p>
<blockquote>
<p>If the first line of your R script is</p>
<p>setwd(“C:\Users\jenny\path\that\only\I\have”)</p>
<p>I will come into your office and SET YOUR COMPUTER ON FIRE</p>
<p>—@JennyBryan on Twitter</p>
</blockquote>
<div class="figure">
<img src="https://github.com/gexijin/learnR/raw/master/images/dataImport.gif" alt="Animated GIF for creating project and import data." />
<p class="caption">Animated GIF for creating project and import data.</p>
</div>
<div id="create-a-project-in-a-new-folder" class="section level3">
<h3><span class="header-section-number">4.1.1</span> Create a project in a new folder</h3>
<p>Start by setting up a project in a new folder by going to <strong>File-&gt;New project-&gt;New Directory-&gt;Empty Project</strong>. Then choose where the directory will be created on your hard drive. I created a directory called “Chapter4” under “D:\RBook”. Rstudio creates a Project file named like “Chapter4.Rproj”, which contains information such as scripts files and working folders. Projects files can be saved and later opened from <strong>File-&gt;Open</strong>. In Windows you can also just double-click on the project file. You get everything ready to go on a particular assignment or research project.</p>
<p>This folder is your <strong>working folder</strong>, a default folder for reading files, writing outputs etc.</p>
<p>More advanced users should consider create a project using version control, so that all versions of your code is backup and easily shared by <a href="https://github.com/">GitHub</a>. See <a href="https://happygitwithr.com/">Happy Git and GitHub for the useR</a> by Jenny Bryan.</p>
</div>
<div id="create-a-script-file-and-comment" class="section level3">
<h3><span class="header-section-number">4.1.2</span> Create a script file and comment (!)</h3>
<p>Once you have a new project created, the first step is to start a new script file by clicking the <strong>File +</strong> button or go to <strong>File-&gt;New file</strong> and choose <strong>R script file</strong>. By default, the script file is called Untitled1.R. Rstudio will ask you to change it the first time you hit “Save” button.</p>
<p>Start your R script by adding comments on background information. Comments starting with “#” are ignored by R when running, but they are helpful for humans, including the future self, to understand the code. We re-cycle and re-use our codes over and over, so it is vital to add information about what a chunk of code does. Figure <a href="importing-data-and-managing-files.html#fig:9-1">4.1</a> shows a recommended workflow for beginning your script. Click “Save” button and name your file something like “Data Import.R”.</p>
<p><strong>Write your scripts while saving your project files</strong>. If you click on the <strong>Run</strong> button, Rstudio runs the current line of code where your cursor is located. You can also select multiple lines and run them at once. You can jump back and forth but remember you are operating on the data objects sequentially. So sometimes you want to get a fresh start by running the reset line, namely:<strong>rm(list=ls())</strong>. This command lists and then deletes all data objects from R’s brain. As you develop your coding skills, following these guidelines can make you more efficient. Remember to save everything once a while by hitting the <strong>Save</strong> button on the main icon bar! Even though Rstudio saves your scripts every 5 seconds, it can crash.</p>

<div class="figure" style="text-align: center"><span id="fig:9-1"></span>
<img src="images/img0901_rstudio.png" alt="Beginning a project in Rstudio, a recommended workflow: commenting, resetting, checking working folder." width="80%" />
<p class="caption">
Figure 4.1: Beginning a project in Rstudio, a recommended workflow: commenting, resetting, checking working folder.
</p>
</div>
</div>
<div id="copy-data-files-to-the-new-directory" class="section level3">
<h3><span class="header-section-number">4.1.3</span> Copy data files to the new directory</h3>
<p>This is done outside of Rstudio on Windows or Mac interface. Download the heartatk4R.txt file from this page <a href="http://statland.org/R/RC/tables4R.htm" class="uri">http://statland.org/R/RC/tables4R.htm</a>. It is a tab-delimited text file, meaning the different columns are separated by tab. We also need to get some context about the data and how it is collected. At the minimum level, we need to know the meaning of each columns.</p>
<p><strong>File unzipping, conversion, and context.</strong>
If data is compressed, unzip using 7-zip, WinRAR, Winzip, gzip. Any of these will do. Is it a text file (CSV, txt, …) or Binary file (XLS, XLSX, …)? Convert binary to text file using corresponding application. Comma separated values (CSV) files, use comma to separate the columns. Another common type is tab-delimited text files, which uses the tab or <span class="math inline">\(\t\)</span> as it is invisible character.</p>
<p><strong>Checking the file with text editor and Excel.</strong> Before reading files into R, we often need to open the files to take a look. Notepad or WordPad that come with Windows is very limited (and so amateur)! Do not even think about using Microsoft Word! I strongly recommend that you install a powerful text editor such as NotePad++ (<a href="https://notepad-plus-plus.org/" class="uri">https://notepad-plus-plus.org/</a>), or TextPad (<a href="https://www.textpad.com/" class="uri">https://www.textpad.com/</a>). If you are a Mac user, try TextMate, TextWrangler etc. I use NotePad++ almost every day to look into data, and also write R programs, as it can highlight R commands based on R syntax. I even use a tool called NppToR (<a href="https://sourceforge.net/projects/npptor/" class="uri">https://sourceforge.net/projects/npptor/</a>) to send R commands from NotePad++ directly to R, and I love it!</p>
<p>Regardless of their extensions in file names, all <strong>plain text files</strong> can be opened by these text editors. Plain text files only contain text without any formatting, links and images. The file names can be “poems.txt”, “poems.tex”, “students.csv”, or just “data” without extension. I often save my R scripts as text file with names like “code_1-22-2017.R”. You can import text files, regardless of file names, to Microsoft Excel, which can properly parse your file into columns if the correct delimiter is specified.</p>
<p>Comma separated values (CSV) files, use comma to separate the columns. CSV files can also be conveniently opened by Excel. And Rstudio likes it too. So let’s try to use CSV files. Another common type is tab-delimited text files, which uses the tab or <span class="math inline">\(\t\)</span> as it is invisible character. Other types of files such as Excel .xls or .xlsx files often needed to be saved as CSV files.</p>
</div>
<div id="import-data-files" class="section level3">
<h3><span class="header-section-number">4.1.4</span> Import data files</h3>
<p>In Rstudio, click <strong>File-&gt;Import Dataset-&gt;From text(readr)…</strong>, find the file on your hard drive. You should change the <strong>Delimiter</strong> to “tab”, and the preview shows that the data is correctly parsed into multiple columns. You can also change the name of your data object by changing the default “heartatk4R” to <strong>“df”</strong> on the lower left of the import interface.</p>
<p>We need to check each of the columns and see the data types are correctly read in.
The first column is just patient id number runs from 1 to 12844. It will not be useful in our analysis. The numbers in DIAGNOSIS, DRG, and DIED are integers but they actually <strong>code for certain categories</strong>. They are not measurements. It does not make sense, for example, to add them or average them. Most of the times, there is no particular order. The same is true for SEX.
So in this dialog interface, DIAGNOSIS, DRG, and DIED should be changed from <strong>“double” to “character”</strong>.
As shown in Figure <a href="importing-data-and-managing-files.html#fig:9-2">4.2</a>, you can click on the automatically guessed data type under each of the column names as shown in Figure <a href="importing-data-and-managing-files.html#fig:9-2">4.2</a>. By selecting “character” from the drop down, you can successfully format this column as a character.</p>
<p>On the other hand, LOS (length of stay in days) and AGE should be numbers. But because 10 is presented as “0010”, these columns are automatically recognized as characters. We have to force R to read these columns as integers by clicking on the column title and select <strong>integer</strong>.
We have to change LOS and AGE from <strong>“character” to “integer”</strong>.</p>
<p>The awesome nerds at Rstudio actually helped you generating these 3 lines of code:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readr)
df &lt;-<span class="st"> </span><span class="kw">read_delim</span>(<span class="st">&quot;heartatk4R.txt&quot;</span>, 
    <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">escape_double =</span> <span class="ot">FALSE</span>, <span class="dt">col_types =</span> <span class="kw">cols</span>(<span class="dt">AGE =</span> <span class="kw">col_integer</span>(), 
        <span class="dt">DIAGNOSIS =</span> <span class="kw">col_character</span>(), <span class="dt">DIED =</span> <span class="kw">col_character</span>(), 
        <span class="dt">DRG =</span> <span class="kw">col_character</span>(), <span class="dt">LOS =</span> <span class="kw">col_integer</span>()), 
    <span class="dt">trim_ws =</span> <span class="ot">TRUE</span>)
<span class="kw">View</span>(df)</code></pre>
<p>Before you click on the <strong>Import</strong> button, I highly recommend that you select all the codes and copy it to the script file. After clicking <strong>Import</strong>, you can paste the code into a script window. If you do not have a script window open, you can create one by clicking the <strong>File +</strong> icon on the top left. Copy and paste these code to your script file. You will need it when you want to re-run the analysis without going through the above steps. You can see the data appears as a spreadsheet, which can be sorted by clicking on the column names. This spreadsheet can be closed. To reopen, click on x object, which is a data frame named after the input file. You data is now available as x.</p>

<div class="figure" style="text-align: center"><span id="fig:9-2"></span>
<img src="images/img0902m_datatype.png" alt="Changing data types while importing data into Rstudio."  />
<p class="caption">
Figure 4.2: Changing data types while importing data into Rstudio.
</p>
</div>
</div>
<div id="check-and-convert-data-types" class="section level3">
<h3><span class="header-section-number">4.1.5</span> Check and convert data types</h3>
<p>Most of the times, R can guess the type of data in each column. But we always need to double check using the str command. If not satisfied, we can enforce data type conversion in R using as.numeric, as.factor, or as.character functions.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(df)  <span class="co"># structure of data object, data types for each column</span></code></pre>
<pre><code>## Classes &#39;spec_tbl_df&#39;, &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;: 12844 obs. of  8 variables:
##  $ Patient  : num  1 2 3 4 5 6 7 8 9 10 ...
##  $ DIAGNOSIS: chr  &quot;41041&quot; &quot;41041&quot; &quot;41091&quot; &quot;41081&quot; ...
##  $ SEX      : chr  &quot;F&quot; &quot;F&quot; &quot;F&quot; &quot;F&quot; ...
##  $ DRG      : chr  &quot;122&quot; &quot;122&quot; &quot;122&quot; &quot;122&quot; ...
##  $ DIED     : chr  &quot;0&quot; &quot;0&quot; &quot;0&quot; &quot;0&quot; ...
##  $ CHARGES  : num  4752 3941 3657 1481 1681 ...
##  $ LOS      : int  10 6 5 2 1 9 15 15 2 1 ...
##  $ AGE      : int  79 34 76 80 55 84 84 70 76 65 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   Patient = col_double(),
##   ..   DIAGNOSIS = col_character(),
##   ..   SEX = col_character(),
##   ..   DRG = col_character(),
##   ..   DIED = col_character(),
##   ..   CHARGES = col_double(),
##   ..   LOS = col_integer(),
##   ..   AGE = col_integer()
##   .. )</code></pre>
<p>We can reformat categorical values <strong>factors</strong>. We are going to use <code>df$SEX</code> to refer to the SEX column of the data frame df:</p>
<pre class="sourceCode r"><code class="sourceCode r">df<span class="op">$</span>DIAGNOSIS &lt;-<span class="st"> </span><span class="kw">as.factor</span>(df<span class="op">$</span>DIAGNOSIS)  <span class="co"># convert this column to factor</span>
df<span class="op">$</span>SEX &lt;-<span class="st"> </span><span class="kw">as.factor</span>(df<span class="op">$</span>SEX)
df<span class="op">$</span>DRG &lt;-<span class="st"> </span><span class="kw">as.factor</span>(df<span class="op">$</span>DRG)
df<span class="op">$</span>DIED &lt;-<span class="st"> </span><span class="kw">as.factor</span>(df<span class="op">$</span>DIED)</code></pre>
<p>Factors are very similar to character vectors. But factors have defined levels and their values are stored as integers.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nlevels</span>(df<span class="op">$</span>DIAGNOSIS)</code></pre>
<pre><code>## [1] 9</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">levels</span>(df<span class="op">$</span>DIAGNOSIS)</code></pre>
<pre><code>## [1] &quot;41001&quot; &quot;41011&quot; &quot;41021&quot; &quot;41031&quot; &quot;41041&quot; &quot;41051&quot; &quot;41071&quot; &quot;41081&quot; &quot;41091&quot;</code></pre>
<p>Note “41001” is the <strong>reference level</strong> for this factor and it is coded as 1. The reference level for factors are important when we interpret results from regression, as effects are represented relative to the reference level. The reference level are defined based on the order they appear in the dataset. Sometimes we need to change the reference level.</p>
<pre class="sourceCode r"><code class="sourceCode r">df<span class="op">$</span>DIAGNOSIS &lt;-<span class="st"> </span><span class="kw">relevel</span>( df<span class="op">$</span>DIAGNOSIS, <span class="st">&quot;41091&quot;</span>)
<span class="kw">levels</span>(df<span class="op">$</span>DIAGNOSIS)</code></pre>
<pre><code>## [1] &quot;41091&quot; &quot;41001&quot; &quot;41011&quot; &quot;41021&quot; &quot;41031&quot; &quot;41041&quot; &quot;41051&quot; &quot;41071&quot; &quot;41081&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(df)  <span class="co"># double check structure of data</span></code></pre>
<pre><code>## Classes &#39;spec_tbl_df&#39;, &#39;tbl_df&#39;, &#39;tbl&#39; and &#39;data.frame&#39;: 12844 obs. of  8 variables:
##  $ Patient  : num  1 2 3 4 5 6 7 8 9 10 ...
##  $ DIAGNOSIS: Factor w/ 9 levels &quot;41091&quot;,&quot;41001&quot;,..: 6 6 1 9 1 1 1 1 6 6 ...
##  $ SEX      : Factor w/ 2 levels &quot;F&quot;,&quot;M&quot;: 1 1 1 1 2 2 1 1 2 1 ...
##  $ DRG      : Factor w/ 3 levels &quot;121&quot;,&quot;122&quot;,&quot;123&quot;: 2 2 2 2 2 1 1 1 1 3 ...
##  $ DIED     : Factor w/ 2 levels &quot;0&quot;,&quot;1&quot;: 1 1 1 1 1 1 1 1 1 2 ...
##  $ CHARGES  : num  4752 3941 3657 1481 1681 ...
##  $ LOS      : int  10 6 5 2 1 9 15 15 2 1 ...
##  $ AGE      : int  79 34 76 80 55 84 84 70 76 65 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   Patient = col_double(),
##   ..   DIAGNOSIS = col_character(),
##   ..   SEX = col_character(),
##   ..   DRG = col_character(),
##   ..   DIED = col_character(),
##   ..   CHARGES = col_double(),
##   ..   LOS = col_integer(),
##   ..   AGE = col_integer()
##   .. )</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(df)  <span class="co"># a summary often gives us a lot of useful information </span></code></pre>
<pre><code>##     Patient        DIAGNOSIS    SEX       DRG       DIED     
##  Min.   :    1   41091  :5213   F:5065   121:5387   0:11434  
##  1st Qu.: 3212   41041  :2665   M:7779   122:6047   1: 1410  
##  Median : 6422   41011  :1824            123:1410            
##  Mean   : 6422   41071  :1703                                
##  3rd Qu.: 9633   41001  : 467                                
##  Max.   :12844   41081  : 287                                
##                  (Other): 685                                
##     CHARGES           LOS              AGE        
##  Min.   :    3   Min.   : 0.000   Min.   : 20.00  
##  1st Qu.: 5422   1st Qu.: 4.000   1st Qu.: 57.00  
##  Median : 8445   Median : 7.000   Median : 67.00  
##  Mean   : 9879   Mean   : 7.569   Mean   : 66.29  
##  3rd Qu.:12569   3rd Qu.:10.000   3rd Qu.: 77.00  
##  Max.   :47910   Max.   :38.000   Max.   :103.00  
##  NA&#39;s   :699</code></pre>
<p>The summary( ) function is very useful to get basic information about data frames.</p>
<p>Note that for numeric columns we are shown mean, median, etc, while for factors the frequencies are shown. This reassured us that the data types are correctly recognized. It also shows missing values for CHARGES.
Some people got free treatment for heart attack? Maybe not. Missing does not mean zero. Maybe the data was not entered for some patients.</p>
<p>Except enforcing data type conversion by as.factor, as.numeric and so on, We can also reformat the columns before clicking <strong>Import</strong>:</p>
</div>
<div id="close-a-project-when-you-are-done" class="section level3">
<h3><span class="header-section-number">4.1.6</span> Close a project when you are done</h3>
<p>Once you are done with a project, you can close it from <strong>File <span class="math inline">\(\rightarrow\)</span>Close Project</strong>. If you do not close a project, <em>Rstuio assumes that you will be continue working on the same project</em>; even after your close Rstudio, the same project and files will be open next time when you start Rstudio. This is convenient, most of times. But I’ve seen some students’ Rstudio environment cluttered with all the things they have been doing for an entire semester. This is not only confusing, but could also lead to errors. For example in this class, you can start a new project for each chapter.</p>
<p>To open a project, use <strong>File <span class="math inline">\(\rightarrow\)</span>Open Project</strong> and then navigate to the project. Alternatively you can double-click on the Chapter4.Rproj file from Windows or Mac. When a project file is loaded, the entire computing envirionment is set for you. The working directory is set properly. Some of the script files are open. If the script file is not open, you can open it by clicking on it from the <strong>Files</strong> tab in the lower right window.</p>
</div>
</div>
<div id="data-manipulation-in-a-data-frame" class="section level2">
<h2><span class="header-section-number">4.2</span> Data manipulation in a data frame</h2>
<p>We can sort the data by age. Again, type these commands in the script window, instead of directly into the Console window. And save the scripts once a while.</p>
<pre class="sourceCode r"><code class="sourceCode r">df2 &lt;-<span class="st"> </span>df[<span class="kw">order</span>(df<span class="op">$</span>AGE), ]  <span class="co"># sort by ascending order by AGE</span></code></pre>
<p><strong>Global Environment</strong> window contains the names and sizes of all the variables or objects in the computer memory. R programming is all about creating and modifying these objects in the memory with clear, step-by-step instructions. We also can sort the data by clicking on the column names in spreadsheet from Global Environment.</p>
<p>Just like in Excel, you can add a new column with computed results:</p>
<pre class="sourceCode r"><code class="sourceCode r">df2<span class="op">$</span>pdc &lt;-<span class="st"> </span>df2<span class="op">$</span>CHARGES <span class="op">/</span><span class="st"> </span>df2<span class="op">$</span>LOS</code></pre>
<p>Here we created a new column pdc to represent per day cost.
We can also create a column to represent age groups using the floor function just returns the integer part.</p>
<pre class="sourceCode r"><code class="sourceCode r">df2<span class="op">$</span>ag &lt;-<span class="st"> </span><span class="kw">floor</span>(df2<span class="op">$</span>AGE<span class="op">/</span><span class="dv">10</span>) <span class="op">*</span><span class="st"> </span><span class="dv">10</span></code></pre>
<p>You can now do things like this:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(df2<span class="op">$</span>CHARGES <span class="op">~</span><span class="st"> </span>df2<span class="op">$</span>ag)</code></pre>
<p><img src="book_files/figure-html/unnamed-chunk-345-1.png" width="672" /></p>
<p>Each box represents an age group. Older patients tends to stay longer in the hospital after being admitted for heart attack.</p>
<p>You can extract a subset of cases:</p>
<pre class="sourceCode r"><code class="sourceCode r">df3 &lt;-<span class="st"> </span><span class="kw">subset</span>(df2, SEX <span class="op">==</span><span class="st"> &quot;F&quot;</span>)  <span class="co">#  Only females. “==” is for comparison and “=” is for assign value.</span>
df4 &lt;-<span class="st"> </span><span class="kw">subset</span>(df3, AGE <span class="op">&gt;</span><span class="st"> </span><span class="dv">80</span>)  <span class="co"># only people older than 80</span>
<span class="kw">summary</span>(df4)   </code></pre>
<pre><code>##     Patient        DIAGNOSIS   SEX       DRG      DIED       CHARGES     
##  Min.   :    7   41091  :564   F:1263   121:679   0:929   Min.   :   92  
##  1st Qu.: 3416   41071  :224   M:   0   122:250   1:334   1st Qu.: 5179  
##  Median : 6816   41041  :181            123:334           Median : 8580  
##  Mean   : 6624   41011  :166                              Mean   :10143  
##  3rd Qu.: 9814   41001  : 41                              3rd Qu.:13347  
##  Max.   :12841   41081  : 38                              Max.   :46915  
##                  (Other): 49                              NA&#39;s   :74     
##       LOS              AGE              pdc                ag        
##  Min.   : 1.000   Min.   : 81.00   Min.   :   18.4   Min.   : 80.00  
##  1st Qu.: 5.000   1st Qu.: 83.00   1st Qu.:  796.7   1st Qu.: 80.00  
##  Median : 8.000   Median : 85.00   Median : 1113.7   Median : 80.00  
##  Mean   : 9.457   Mean   : 85.92   Mean   : 1331.4   Mean   : 81.96  
##  3rd Qu.:13.000   3rd Qu.: 89.00   3rd Qu.: 1523.8   3rd Qu.: 80.00  
##  Max.   :38.000   Max.   :102.00   Max.   :11246.1   Max.   :100.00  
##                                    NA&#39;s   :74</code></pre>
<p>Try not to attach the data when you are manipulation data like this.</p>

<div class="exercise">
<p><span id="exr:unnamed-chunk-347" class="exercise"><strong>Exercise 4.1  </strong></span>Answer the following questions.
a). Get a subset which contains the middle-aged men whose ages are greater than 40 and less than or equal to 60.</p>
<p>b). Calculate cost per day for middle-aged men.</p>
c). Generate a histogram of the cost per day.
</div>

</div>
<div id="data-transformation-using-the-dplyr" class="section level2">
<h2><span class="header-section-number">4.3</span> Data transformation using the dplyr</h2>
<p>Following the same style of ggplot, the dplyr package, a part of the <a href="https://www.tidyverse.org/">Tidyverse</a>, makes data transformation more intuitive.</p>
<p>First we need to install the dplyr package.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;dplyr&quot;</span>)</code></pre>
<p>With dplyr, data transformation becomes fun.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)

df2 &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st">  </span><span class="co"># pipe operator; data is send to the next step</span>
<span class="st">  </span><span class="kw">arrange</span>(AGE) <span class="co"># sort in ascending order; desc(AGE) for descending order</span>
<span class="kw">head</span>(df2)</code></pre>
<pre><code>## # A tibble: 6 x 8
##   Patient DIAGNOSIS SEX   DRG   DIED  CHARGES   LOS   AGE
##     &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;dbl&gt; &lt;int&gt; &lt;int&gt;
## 1    5411 41041     M     122   0       6214      4    20
## 2   10853 41091     F     122   0       6726.     4    21
## 3    4126 41041     M     122   0      10781      8    23
## 4   10738 41011     M     121   0         NA      8    23
## 5    4247 41091     F     122   0      10672      6    24
## 6    5199 41041     M     121   0       7596      8    24</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">df2 &lt;-<span class="st"> </span>df2 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>( <span class="dt">pdc =</span> CHARGES <span class="op">/</span><span class="st"> </span>LOS) <span class="co"># new column by dividing two columns</span>
<span class="kw">head</span>(df2)</code></pre>
<pre><code>## # A tibble: 6 x 9
##   Patient DIAGNOSIS SEX   DRG   DIED  CHARGES   LOS   AGE   pdc
##     &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
## 1    5411 41041     M     122   0       6214      4    20 1554.
## 2   10853 41091     F     122   0       6726.     4    21 1682.
## 3    4126 41041     M     122   0      10781      8    23 1348.
## 4   10738 41011     M     121   0         NA      8    23   NA 
## 5    4247 41091     F     122   0      10672      6    24 1779.
## 6    5199 41041     M     121   0       7596      8    24  950.</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">df2 &lt;-<span class="st"> </span>df2 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>( <span class="dt">ag =</span> <span class="kw">floor</span>(AGE<span class="op">/</span><span class="dv">10</span>) <span class="op">*</span><span class="st"> </span><span class="dv">10</span>) <span class="co"># new column, age group</span>
<span class="kw">head</span>(df2)</code></pre>
<pre><code>## # A tibble: 6 x 10
##   Patient DIAGNOSIS SEX   DRG   DIED  CHARGES   LOS   AGE   pdc    ag
##     &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1    5411 41041     M     122   0       6214      4    20 1554.    20
## 2   10853 41091     F     122   0       6726.     4    21 1682.    20
## 3    4126 41041     M     122   0      10781      8    23 1348.    20
## 4   10738 41011     M     121   0         NA      8    23   NA     20
## 5    4247 41091     F     122   0      10672      6    24 1779.    20
## 6    5199 41041     M     121   0       7596      8    24  950.    20</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">df3 &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(SEX <span class="op">==</span><span class="st"> &quot;F&quot;</span>, AGE <span class="op">&gt;</span><span class="st"> </span><span class="dv">80</span>) <span class="co"># filtering</span>
<span class="kw">head</span>(df3)</code></pre>
<pre><code>## # A tibble: 6 x 8
##   Patient DIAGNOSIS SEX   DRG   DIED  CHARGES   LOS   AGE
##     &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;dbl&gt; &lt;int&gt; &lt;int&gt;
## 1       7 41091     F     121   0      10959.    15    84
## 2      13 41091     F     122   0         NA      9    83
## 3      27 41011     F     123   1       3215.     4    83
## 4      36 41041     F     121   0       2584.     9    81
## 5      51 41011     F     121   0       7589     11    81
## 6      67 41011     F     123   1      16429.     8    81</code></pre>
<p>The real power and efficiency of dplyr comes when you connect the pipes to do data transformation in multiple steps.</p>
<pre class="sourceCode r"><code class="sourceCode r">df2 &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(AGE) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>( <span class="dt">pdc =</span> CHARGES <span class="op">/</span><span class="st"> </span>LOS) <span class="op">%&gt;%</span><span class="st">   </span>
<span class="st">  </span><span class="kw">mutate</span>( <span class="dt">ag =</span> <span class="kw">floor</span>(AGE<span class="op">/</span><span class="dv">10</span>) <span class="op">*</span><span class="st"> </span><span class="dv">10</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(SEX <span class="op">==</span><span class="st"> &quot;F&quot;</span>, AGE <span class="op">&gt;</span><span class="st"> </span><span class="dv">80</span>)
<span class="kw">head</span>(df2)</code></pre>
<pre><code>## # A tibble: 6 x 10
##   Patient DIAGNOSIS SEX   DRG   DIED  CHARGES   LOS   AGE   pdc    ag
##     &lt;dbl&gt; &lt;fct&gt;     &lt;fct&gt; &lt;fct&gt; &lt;fct&gt;   &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1      36 41041     F     121   0       2584.     9    81  287.    80
## 2      51 41011     F     121   0       7589     11    81  690.    80
## 3      67 41011     F     123   1      16429.     8    81 2054.    80
## 4     225 41041     F     123   1       4674.     7    81  668.    80
## 5     265 41091     F     122   0       9401.     9    81 1045.    80
## 6     284 41041     F     121   0       7240.     7    81 1034.    80</code></pre>
<p><strong>arrange, mutate, filter</strong> are called <strong>action verbs</strong>. For more action verbs, see dplyr cheat sheet from the Rstudio main menu: <em>Help <span class="math inline">\(\rightarrow\)</span> Cheatsheets <span class="math inline">\(\rightarrow\)</span> R Markdown Cheat Sheet.</em> It is also available on line <a href="https://www.rstudio.com/resources/cheatsheets/#dplyr">dplyr cheat Sheet</a>.</p>
</div>
<div id="reading-files-directly-using-read.table" class="section level2">
<h2><span class="header-section-number">4.4</span> Reading files directly using read.table</h2>
<p>As you get more experience with R programming, there are many other options to import data.</p>
<p>In summary, we have the following code to read in the data. Reading the heart attack dataset. I am not using the Import Dataset in Rstudio. We have to make sure the file is in the current working directory. To set working directory from Rstudio main menu, go to Session -&gt; Set Working Directory.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())  <span class="co"># Erase all objects in memory</span>
<span class="kw">getwd</span>()  <span class="co"># show working directory</span>
df &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;datasets/heartatk4R.txt&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)
<span class="kw">head</span>(df)  <span class="co"># show the first few rows</span>
<span class="co"># change several columns to factors</span>
df<span class="op">$</span>DRG &lt;-<span class="st"> </span><span class="kw">as.factor</span>(df<span class="op">$</span>DRG)
df<span class="op">$</span>DIED &lt;-<span class="st"> </span><span class="kw">as.factor</span>(df<span class="op">$</span>DIED)
df<span class="op">$</span>DIAGNOSIS &lt;-<span class="st"> </span><span class="kw">as.factor</span>(df<span class="op">$</span>DIAGNOSIS)
df<span class="op">$</span>SEX &lt;-<span class="st"> </span><span class="kw">as.factor</span>(df<span class="op">$</span>SEX)
<span class="kw">str</span>(df)  <span class="co"># show the data types of columns</span>
<span class="kw">summary</span>(df)  <span class="co"># show summary of dataset</span></code></pre>
<p>Alternatively, you can skip all of the above and do this.</p>
<pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;http://statland.org/R/RC/heartatk4R.txt&quot;</span>, 
                <span class="dt">header =</span> <span class="ot">TRUE</span>, 
                <span class="dt">sep =</span> <span class="st">&quot;</span><span class="ch">\t</span><span class="st">&quot;</span>, 
                <span class="dt">colClasses =</span> <span class="kw">c</span>(<span class="st">&quot;character&quot;</span>, <span class="st">&quot;factor&quot;</span>, <span class="st">&quot;factor&quot;</span>, <span class="st">&quot;factor&quot;</span>, 
                               <span class="st">&quot;factor&quot;</span>, <span class="st">&quot;numeric&quot;</span>, <span class="st">&quot;numeric&quot;</span>, <span class="st">&quot;numeric&quot;</span>))</code></pre>
<p>We are reading data directly from the internet with the URL. And we are specifying the data type for each column.</p>
</div>
<div id="general-procedure-to-read-data-into-r" class="section level2">
<h2><span class="header-section-number">4.5</span> General procedure to read data into R:</h2>
<ol style="list-style-type: decimal">
<li>If data is compressed, unzip using 7-zip, WinRAR, Winzip, gzip. Any of these will do.</li>
<li>Is it a text file (CSV, txt, …) or Binary file (XLS, XLSX, …)? Convert binary to text file using corresponding application. Comma separated values (CSV) files, use comma to separate the columns. Another common type is tab-delimited text files, which uses the tab or <span class="math inline">\(\t\)</span> as it is invisible character.<br />
</li>
<li>Open with a text editor (TexPad, NotePad++) to have a look.</li>
<li>Rows and columns? Row and column names? <strong>row.names = 1, header = T</strong></li>
<li>Delimiters between columns?(space, comma, tab…) <strong>sep = “<span class="math inline">\(\t\)</span>”</strong></li>
<li>Missing values? NA, na, NULL, blank, NaN, 0 <strong>missingstring = </strong></li>
<li>Open as text file in Excel, choose appropriate delimiter while importing, or use the <strong>Text to Column</strong> under Data in Excel. Beware of the annoying automatic conversion in Excel “OCT4”-&gt;“4-OCT”. Edit column names by removing spaces, or shorten them for easy of reference in R. Save as CSV for reading in R.</li>
<li>read.table ( ), or read.csv( ). For example,
<code>x &lt;- read.table(“somefile.txt”, sep = “$\t$”, header = TRUE, missingstring = “NA”)</code></li>
<li>Double check the data with <strong>str(df)</strong>, make sure each column is recognized correctly as <strong>“character”</strong>, <strong>“factor”</strong> and <strong>“numeric”</strong>.
Pay attention to columns contain numbers but are actually IDs (i.e. student IDs), these should be treated as character. For example, <code>x$ids &lt;- as.character(x$ids)</code>, here x is the data frame and ids is the column name. Also pay attention to columns contain numbers but actually codes for some discrete categories (1, 2, 3, representing treatment 1, treatment 2 and treatment 3). These need to be reformatted as <strong>factors</strong>. This could be done with something like <code>x$treatment &lt;- as.factor(x$treatment)</code>.</li>
</ol>
<p>Refresher using cheat sheets that summarize many R functions is available here: <a href="https://www.rstudio.com/resources/cheatsheets/">https://www.rstudio.com/resources/cheatsheets/</a>. It is important to know the different types of R objects: <strong>scalars, vectors, data frames, matrix, and lists</strong>.</p>
</div>
<div id="enter-data-manually" class="section level2">
<h2><span class="header-section-number">4.6</span> Enter data manually</h2>
<p>There are many different ways to get data into R. You can enter data manually (see below), or semi-manually (see below). You can read data into R from a local file or a file on the internet. You can also use R to retrieve data from databases, local or remote. The most import thing is to read data set into R correctly. A dataset not read in correctly will never be analyzed or visualized correctly.</p>
<p><img src="images/img0900_note.png" width="50%" style="display: block; margin: auto;" /></p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">2.1</span>, <span class="fl">3.1</span>, <span class="fl">3.2</span>, <span class="fl">5.4</span>)
<span class="kw">sum</span>(x)</code></pre>
<pre><code>## [1] 13.8</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">A &lt;-<span class="st"> </span><span class="kw">matrix</span>(
       <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">7</span>),  <span class="co"># the data elements </span>
       <span class="dt">nrow =</span> <span class="dv">2</span>,             <span class="co"># number of rows </span>
       <span class="dt">ncol =</span> <span class="dv">3</span>)             <span class="co"># number of columns                     </span>
A                            <span class="co"># show the matrix</span></code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    2    3    5
## [2,]    4    1    7</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">scan</span>()  <span class="co"># Enter values from keyboard, separated by Return key. End by empty line. </span>
<span class="fl">2.1</span></code></pre>
<pre><code>## [1] 2.1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="fl">3.1</span></code></pre>
<pre><code>## [1] 3.1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="fl">4.1</span></code></pre>
<pre><code>## [1] 4.1</code></pre>
<p>You can even use the scan() function to paste a column of numbers from Excel.</p>
<blockquote>

<div class="exercise">
<span id="exr:unnamed-chunk-354" class="exercise"><strong>Exercise 4.2  </strong></span>Type in Table <a href="importing-data-and-managing-files.html#tab:9-01">4.1</a> in Excel and save as a CSV file and a tab-delimited tex file. Create a new Rstudio project as outlined above. Copy the files to the new folder. Import the CSV file to Rstudio. Create a script file which includes the rm(list = ls()) and getwd() command, the generated R code when importing the CSV file, (similar to those shown in Figure <a href="importing-data-and-managing-files.html#fig:9-2">4.2</a>), and the code that convert data types (Age, BloodPressure and Weight should be numeric, LastName should be character and HeartAttack should be factor). Name the data set as <em>patients</em>. Submit the R script your created, data structure of the data set patient, and use <strong>head(patients)</strong> to show the data.
</div>
</blockquote>
<table>
<caption><span id="tab:9-01">Table 4.1: </span>An example of a multivariate dataset.</caption>
<thead>
<tr class="header">
<th align="left">LastName</th>
<th align="left">Age</th>
<th align="left">Sex</th>
<th align="left">BloodPressure</th>
<th align="left">Weight</th>
<th align="left">HeartAttack</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Smith</td>
<td align="left">19</td>
<td align="left">M</td>
<td align="left">100</td>
<td align="left">130.2</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">Bird</td>
<td align="left">55</td>
<td align="left">F</td>
<td align="left">86</td>
<td align="left">300</td>
<td align="left">0</td>
</tr>
<tr class="odd">
<td align="left">Wilson</td>
<td align="left">23</td>
<td align="left">M</td>
<td align="left">200</td>
<td align="left">212.7</td>
<td align="left">0</td>
</tr>
</tbody>
</table>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-structures.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="the-heart-attack-data-set-i.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
